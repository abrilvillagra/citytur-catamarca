
<!DOCTYPE html>
{% load static %}
<html lang="es">

    <head>
        <meta charset="UTF-8">
        <title>Gestion de recorridos</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
        <link rel="stylesheet" href="{% static 'css/gestionRecorridos.css'%}">
    </head>

    <body>
        {

        <!--contenedor de la cabezera-->
        <div class="mb-4">

            <header>
                <img src="{% static 'img/imagen1.jpg'%}" class="banner-img"/>
                <h1 class="text-center mt-3">Gestionar Recorridos</h1>
                <nav>
                    <ul class="nav justify-content-center">
                        <li class="nav-item"><a class="nav-link" href="Pagina1.html">Inicio</a></li>
                        <li class="nav-item"><a class="nav-link active" href="GestionRecorridos.html">Recorridos</a></li>
                        <li class="nav-item"><a class="nav-link" href="Pagina3.html">Reserva</a></li>
                    </ul>
                </nav>
            </header>
        </div>

            <!--contenedor del cuerpo de la pagina-->
        <div class="container mb-4">

            <section id="agregar_recorrido" class="mb-5">
                <!--disparador para mostrar el panel oculto-->
                <p class="d-inline-flex gap-1">
                    <a class="btn btn-disparador" data-bs-toggle="collapse" href="#agregar" role="button" aria-expanded="false" aria-controls="agregar">
                        Agregar Recorrido
                    </a>

                </p>

                <!--panel colapsable (dentro del div va todo lo oculto)-->
                <div class="collapse" id="agregar">
                    <form  method="post" id="form_recorrido">
                        {% csrf_token %}

                        <h3 class="mb-4">Formulario para agregar recorrido</h3>

                        <div class="row mb-5">

                            <div class="col-md-6">
                                <p class="obligatorio"></p>
                                <label for="nombre">Nombre del recorrido</label>
                                <input type="text" id="nombre" name="nombre" required
                                value="{{ form.nombre.value|default_if_none:'' }}">
                            </div>
                            <div class="col-md-6">
                                <label for="precio">Precio del recorrido</label>
                                <input type="number" id="precio" name="precio" min="1"
                                value="{{ form.precio.value|default_if_none:'' }}">
                            </div>

                        </div>

                        <div class="row mb-5">

                            <div class="col-md-6">
                                <div class="row">
                                    <div class="col-md-4">
                                        <label for="hora_salida">horario de salida</label>
                                        <input type="time" id="hora_salida" name="hora_salida"
                                        value="{{ form.hora_salida.value|default_if_none:'' }}">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="hora_llegada">horario de llegada</label>
                                        <input type="time" id="hora_llegada" name="hora_llegada"
                                        value="{{ form.hora_llegada.value|default_if_none:'' }}">
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-6">
                                <label for="estado">Estado del recorrido</label>
                                <select name="estado" id="estado" class="form-select" aria-label="Default select example">
                                    <option value="True" {% if form.estado.value == True %}selected{% endif %}>activo</option>
                                    <option value="False" {% if form.estado.value == False %}selected{% endif %}>inactivo</option>
                                </select>
                            </div>

                        </div>

                        <div class="row mb-5">

                            <div class="col-md-6">
                                    <label for="descripcion">Descripcion del recorrido</label>
                                    <textarea rows="3" cols="40" name="descripcion" id="descripcion">{{ form.descripcion.value }}</textarea>
                            </div>

                        </div>

                        <div class="row mb-5">
                            <div class="col-md-12">
                                <label for="paradas">Paradas del recorrido</label>
                                <select multiple name="paradas" id="paradas" class="form-select">
                                    {% for parada in form.paradas.field.queryset %}
                                        <option value="{{ parada.id }}"
                                            {% if form.paradas.value and parada.id in form.paradas.value %}
                                                {% if parada.id in form.paradas.value %}
                                                    selected
                                                {% endif %}
                                                {% endif %}>
                                            {{ parada.nombre }}
                                        </option>
                                    {% endfor %}
                                </select>
                            </div>
                        </div>


                        <div class="btn_position">
                            <input type="reset" value="Cancelar" class="btn btn-cancelar">
                            <input type="submit" value="Aceptar" class="btn btn-formulario">
                        </div>

                    </form>
                </div>
            </section>

            <section id="eliminar_recorrido" class="mb-5">

                <p class="d-inline-flex gap-1">
                    <a class="btn btn-disparador" data-bs-toggle="collapse" href="#eliminar" role="button" aria-expanded="false" aria-controls="eliminar">
                        Eliminar Recorrido
                    </a>

                </p>

                <div class="collapse" id="eliminar">
                    <form action="#">
                    <h3>Eliminar Recorrido</h3>

                    <label for="id_eliminar">Ingrese ID del recorrido</label>
                    <input type="number" id="id_eliminar" required>
                    <button type="button" class="btn btn-formulario">Buscar</button>
                    </form>
                    </div>

            </section>

            <section id="editar_recorrido" class="mb-5">

                <p class="d-inline-flex gap-1">
                    <a class="btn btn-disparador" data-bs-toggle="collapse" href="#editar" role="button" aria-expanded="false" aria-controls="editar">
                        Editar Recorrido
                    </a>

                </p>

                <div class="collapse" id="editar">
                    <form action="#">
                    <h3>Editar Recorrido</h3>

                    <label for="id_editar">Ingrese ID del recorrido</label>
                    <input type="number" id="id_editar" required>
                    <button type="button" class="btn btn-formulario">Buscar</button>
                    </form>
                </div>

            </section>


        </div>

        <footer class="text-center mt-4 p-3 ">
            <p>Â© 2025 CityTur Catamarca</p>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
        <script src="{% static 'js/validacion2.js' %}"></script>

    </body>
</html>